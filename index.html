<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>BugDash</title>
        <link rel="preload" href="assets/FiraGO-Book.woff2" as="font" crossorigin />
        <link
            rel="preload"
            href="assets/FiraGO-BookItalic.woff2"
            as="font"
            crossorigin
        />
        <link rel="preload" href="assets/FiraGO-Medium.woff2" as="font" crossorigin />
        <link
            rel="preload"
            href="assets/FiraGO-MediumItalic.woff2"
            as="font"
            crossorigin
        />
        <link rel="preload" href="assets/FiraGO-SemiBold.woff2" as="font" crossorigin />
        <link
            rel="preload"
            href="assets/FiraGO-SemiBoldItalic.woff2"
            as="font"
            crossorigin
        />
        <link
            rel="preload"
            href="assets/MaterialSymbolsOutlined.woff"
            as="font"
            crossorigin
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="app/global.css?4b2134b6746b23f63d58a6ce921ffe0a"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="app/tabs.css?821e9760c3d4d8d8f5fd6f746c2bd430"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="app/tabs/components.css?e1d2431463463bf213e9819e1a008cf1"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="app/tabs/help.css?c85e68301e2f59a3727b7f4884e85d71"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="app/buglist.css?64643c5c8b637bb17073526cdd949f6a"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="app/dialog.css?0b89cde36ac140a69346756901fc0155"
        />
        <link
            rel="stylesheet"
            type="text/css"
            href="app/tooltips.css?b33679ca875b84b1b952eb633ad1fd8e"
        />
        <link rel="icon shortcut" href="assets/bugdash.svg" type="image/svg" />
        <script type="importmap">
            {
                "imports": {
                    "bugdash": "./app/bugdash.mjs?7f3316ec3f3366cc9bc465c838e796f9",
                    "buglist": "./app/buglist.mjs?77586fd1afe0b54dbcbe31c7a87ff846",
                    "buglists/assigned-inactive": "./app/buglists/assigned-inactive.mjs?8cf2600edfbc4a9cc2e6eab00a3a4b48",
                    "buglists/blockers": "./app/buglists/blockers.mjs?f6e798f0359994ed20a373149cb49798",
                    "buglists/blockers-unassigned": "./app/buglists/blockers-unassigned.mjs?a0cee09f85518dd9e32f9edc7e6e41ad",
                    "buglists/criticals": "./app/buglists/criticals.mjs?57654f40d66c0c3d39d013ef40ea0b71",
                    "buglists/criticals-unassigned": "./app/buglists/criticals-unassigned.mjs?b112e28298fece2c801257d5d3bf2474",
                    "buglists/long-defects": "./app/buglists/long-defects.mjs?95e95e3b0489ecd5843a732ae1acec34",
                    "buglists/long-enhancements": "./app/buglists/long-enhancements.mjs?da8a1e6239d575328da0a527bf8b3dc5",
                    "buglists/long-tasks": "./app/buglists/long-tasks.mjs?19d1b6c5f947a13a9ee95bc086e1908c",
                    "buglists/needinfo-escalated": "./app/buglists/needinfo-escalated.mjs?1a90a65c314b8cfd23e3dbe6ca00c7f7",
                    "buglists/needinfo-stale": "./app/buglists/needinfo-stale.mjs?dc84c62b5d70b78f1a0b7d3f463b3923",
                    "buglists/recent-enhancements": "./app/buglists/recent-enhancements.mjs?166abc42e5b161dacb7a8b5b2f4f26af",
                    "buglists/recent-regressions": "./app/buglists/recent-regressions.mjs?cc6ff2953e2dbafabf00374136e09fc4",
                    "buglists/recent-tasks": "./app/buglists/recent-tasks.mjs?18b010d73eeb50a8691d054e9e1c89e1",
                    "buglists/regressions": "./app/buglists/regressions.mjs?23b6536c6b859dc0c9e98bfe1ba70822",
                    "buglists/reo": "./app/buglists/reo.mjs?58164bef55ce3bef3525f6c45a56c4b7",
                    "buglists/stalled": "./app/buglists/stalled.mjs?da2d4f814ac5b70c90a3ebb32f3b23e6",
                    "buglists/topcrashers": "./app/buglists/topcrashers.mjs?b747f1889a13ac5127212473cf75fc78",
                    "buglists/tracked": "./app/buglists/tracked.mjs?86a3ed2a9562c6caab234fb04369f115",
                    "buglists/triage-needed": "./app/buglists/triage-needed.mjs?5725a6b7e8f8a186d7a47161ef170d8b",
                    "bugzilla": "./app/bugzilla.mjs?f35a9e48438541081365e1ac27884d5f",
                    "dialog": "./app/dialog.mjs?8c2b0b6af0aa3d362f724856cba39482",
                    "global": "./app/global.mjs?5f126ea68e10455e924d2a4182c21b85",
                    "tabs": "./app/tabs.mjs?916a2778b69ffbe96ebaa8e555df0b19",
                    "tabs/components": "./app/tabs/components.mjs?10655509fdcadbf1ea5e580e2a185d47",
                    "tabs/help": "./app/tabs/help.mjs?66e69d9c2570a97ccd2a2e8bfd147e72",
                    "tabs/important": "./app/tabs/important.mjs?3171e0565ca29ac681d90abdd420fef9",
                    "tabs/reo": "./app/tabs/reo.mjs?afead088b7f915068f9b3edb71f0df72",
                    "tabs/stalled": "./app/tabs/stalled.mjs?4b6f20adbb97d1f2aa199460b60e5f37",
                    "tabs/tracked": "./app/tabs/tracked.mjs?f416cd08cf5dc3101d75d0ccbd41a05f",
                    "tabs/triage": "./app/tabs/triage.mjs?0b7f51379b708c63d2356578b44921b2",
                    "tooltips": "./app/tooltips.mjs?f6ce915e9ef0058cae9ecc157ad8a1a9",
                    "util": "./app/util.mjs?6cfd0192d12dee40c10bf38fb81ee8ec"
                }
            }
        </script>
    </head>
    <body class="loading">
        <div id="loading">
            Starting BugDash…
            <div id="loading-stage"></div>
            <div id="no-importmap" class="hidden">
                <p>
                    BugDash is unable to start as your browser does not support the
                    "importMap" feature.
                </p>
                <p>For Firefox you'll require at least version 108.</p>
            </div>
        </div>

        <div id="dialog-wrapper" class="hidden">
            <div id="dialog">
                <div id="dialog-message"></div>
                <input type="text" id="dialog-input" />
                <div id="dialog-buttons">
                    <div class="dialog-button" id="dialog-cancel">Cancel</div>
                    <div class="dialog-button" id="dialog-ok">OK</div>
                </div>
            </div>
        </div>

        <div id="nav">
            <div class="tab-group">
                <div class="tab" data-tab="help">Help</div>
            </div>
            <div id="components-tab-group" class="tab-group">
                <div class="tab selected" data-tab="components">
                    <span id="selected-components-title"
                        >Components
                        <span id="selected-components-count"></span>
                    </span>
                    <span
                        id="selected-components-warning"
                        class="material-icons"
                        title="Some of the specified components were not valid"
                    >
                        warning
                    </span>
                </div>
            </div>
            <div
                id="refresh-all-button"
                class="nav-button material-icons"
                title="Refresh all bug lists.  Shift+Click to also refresh components"
            >
                refresh
            </div>
            <div class="tab filler"></div>
            <div id="username"></div>
            <div
                id="key-button"
                class="nav-button material-icons"
                title="Set Bugzilla API-Key"
            >
                key
            </div>
        </div>

        <div id="tabs-content"></div>

        <!-- help -->

        <div id="tab-help" class="content">
            <h1>BugDash</h1>
            <p>
                Dashboard of bug lists for Firefox-related components in Bugzilla, with
                a focus on triage and release tracking.
            </p>
            <p>
                For more information about the purpose and process of triage, see
                <a
                    href="https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html"
                    >the Triage for Bugzilla documentation</a
                >.
            </p>
            <p>
                This code lives at
                <a href="https://github.com/mozilla/bugdash"
                    >GitHub in the bugdash project</a
                >. Pull requests welcome.
            </p>

            <h1>How To Use</h1>
            <ol>
                <li>
                    Provide your Bugzilla API-Key by clicking on the
                    <span class="material-icons">key</span> icon near the top right of
                    the page (saved in your browser's localStorage).
                </li>
                <li>
                    Use the <b>Components</b> tab to select Bugzilla components you want
                    to view.
                </li>
                <li>Switch to the relevant tab.</li>
            </ol>

            <h1>Bug List Fields</h1>
            <p>
                Use the tooltips on the sample bug below to see the field associated
                with each value.
            </p>
            <div id="help-sample"></div>
        </div>

        <!-- components -->

        <div id="tab-components" class="content selected">
            <h1>Select Component(s)</h1>

            <div>
                <input id="component-filter" type="search" placeholder="Filter…" />
                <select id="filter-scope">
                    <option value="title">Name</option>
                    <option value="team">Team</option>
                </select>
                <button id="filter-all">Select Visible</button>
                <button id="filter-none-visible">Deselect Visible</button>
                <button id="filter-none">Deselect All</button>
                <input type="checkbox" id="filter-selected" />
                <label for="filter-selected">Selected Only</label>
            </div>

            <table id="components">
                <thead>
                    <tr>
                        <th id="components-th-cb"></th>
                        <th id="components-th-name">Component</th>
                        <th id="components-th-team">Team</th>
                        <th id="components-th-desc">Description</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <template id="components-row">
                <tr class="row">
                    <td><input type="checkbox" /></td>
                    <td class="name"><label data-field="title"></label></td>
                    <td class="team"><label data-field="team"></label></td>
                    <td class="desc"><label data-field="desc"></label></td>
                </tr>
            </template>

            <div id="no-matching-components">No matching components.</div>
        </div>

        <!-- template: tab -->
        <template id="tab-template">
            <div class="tab" data-tab="" data-field="title"></div>
        </template>

        <!-- template: tab-content -->
        <template id="tab-content-template">
            <div data-id-field="outer" class="content">
                <div data-id-field="inner"></div>
            </div>
        </template>

        <!-- template: buglist group -->
        <template id="buglist-group-template">
            <div class="buglist-group">
                <div class="buglist-group-actions">
                    <a href="#" data-action="expand">Expand All</a>
                    &bull;
                    <a href="#" data-action="collapse">Collapse All</a>
                </div>
            </div>
        </template>

        <!-- template: buglist -->
        <template id="buglist-template">
            <div class="buglist-container closed loading">
                <div class="buglist-header">
                    <div class="toggle"></div>
                    <div class="summary" data-field="title"></div>
                    <div class="loading-spinner"></div>
                    <div class="counter"></div>
                    <div class="actions">
                        <div class="info material-icons" data-title-field="description">
                            question_mark
                        </div>
                        <button class="refresh-btn material-icons">refresh</button>
                        <button class="buglist-btn material-icons">bug_report</button>
                    </div>
                </div>
                <div class="buglist-loading">Loading…</div>
                <table class="buglist"></table>
            </div>
        </template>

        <!-- template: default bug row -->
        <template id="bug-row-template">
            <tr class="bug-row">
                <td class="bug-id">
                    <a
                        href="#"
                        data-href-field="url"
                        data-field="id"
                        target="_blank"
                    ></a>
                </td>
                <td colspan="7">
                    <a
                        href="#"
                        class="bug-summary"
                        data-field="summary"
                        data-href-field="url"
                        target="_blank"
                    ></a>
                </td>
            </tr>
            <tr class="bug-row bug-meta">
                <td class="bug-icons material-icons">
                    <span
                        class="type"
                        data-title-field="type"
                        data-field="type_icon"
                    ></span
                    ><span
                        class="needinfo"
                        data-title-field="needinfo_target"
                        data-field="needinfo_icon"
                    ></span
                    ><span
                        class="groups"
                        data-title-field="groups"
                        data-field="groups_icon"
                    ></span>
                </td>
                <td
                    class="severity"
                    data-title-field="severity_title"
                    data-field="severity"
                ></td>
                <td
                    class="priority"
                    data-title-field="priority_title"
                    data-field="priority"
                ></td>
                <td class="component" data-title-field="component_title">
                    <span data-field="product"></span>:
                    <span data-field="component"></span>
                </td>
                <td
                    class="reporter"
                    data-field="creator_nick"
                    data-title-field="creator_name"
                ></td>
                <td
                    class="owner"
                    data-field="assigned_to_nick"
                    data-title-field="assigned_to_name"
                ></td>
                <td
                    class="keywords"
                    data-title-field="keywords_title"
                    data-field="keywords"
                ></td>
                <td class="timestamp"></td>
            </tr>
        </template>

        <template id="bug-row-timestamp-creation">
            <span
                class="creation"
                data-field="timestamp_ago"
                data-title-field="timestamp"
            ></span>
        </template>

        <template id="bug-row-timestamp-needinfo">
            <span data-field="needinfo_nick" data-title-field="needinfo_name"></span>
            :
            <span data-field="needinfo_ago" data-title-field="needinfo_date"></span>
        </template>

        <script>
            import("util").catch(() => {
                document.querySelector("#no-importmap").classList.remove("hidden");
            });
        </script>

        <script src="assets/popperjs-2.min.js"></script>
        <script src="assets/tippyjs-6.min.js"></script>
        <script
            type="module"
            src="app/bugdash.mjs?7f3316ec3f3366cc9bc465c838e796f9"
        ></script>
    </body>
</html>
